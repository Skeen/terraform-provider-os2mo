"""Address information for an employee or organisation unit"""
type Address {
  """Value of the address, e.g. street or phone number."""
  value: String!

  """Validity of the address object."""
  validity: Validity!

  """UUID of the address type klasse."""
  address_type_uuid: UUID!

  """Address type"""
  address_type: Class!

  """Address visibility"""
  visibility: Class

  """
  Connected employee. Note that this is mutually exclusive with the org_unit field
  """
  employee: [Employee!]

  """
  Connected organisation unit. Note that this is mutually exclusive with the employee field
  """
  org_unit: [OrganisationUnit!]

  """Name of address"""
  name: String

  """href of address"""
  href: String

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type."""
  type: String

  """Optional second value of the address."""
  value2: String

  """UUID of the employee related to the address."""
  employee_uuid: UUID

  """UUID of the organisation unit related to the address."""
  org_unit_uuid: UUID

  """UUID of the engagement related to the address."""
  engagement_uuid: UUID

  """UUID of the visibility klasse of the address."""
  visibility_uuid: UUID
}

type AddressResponse {
  uuid: UUID!
  objects: [Address!]!
}

"""Connects organisation units and employees"""
type Association {
  """Validity of the association object."""
  validity: Validity!

  """UUID of the organisation unit related to the association."""
  org_unit_uuid: UUID!

  """UUID of the employee related to the association."""
  employee_uuid: UUID!

  """Association type"""
  association_type: Class

  """Primary status"""
  primary: Class

  """Connected employee"""
  employee: [Employee!]!

  """Connected organisation unit"""
  org_unit: [OrganisationUnit!]!

  """Connected substitute employee"""
  substitute: [Employee!]!

  """Connected job function"""
  job_function: Class

  """Connected IT user"""
  it_user: [ITUser!]!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type."""
  type: String

  """Attached classes"""
  dynamic_classes: [DynamicClasses!]

  """UUID of the association type."""
  association_type_uuid: UUID

  """UUID of the primary type of the association."""
  primary_uuid: UUID

  """UUID of the substitute for the employee in the association."""
  substitute_uuid: UUID

  """UUID of a job function class, only defined for 'IT associations.'"""
  job_function_uuid: UUID

  """UUID of an 'ITUser' model, only defined for 'IT associations.'"""
  it_user_uuid: UUID
}

type AssociationResponse {
  uuid: UUID!
  objects: [Association!]!
}

scalar CPR

"""The value component of the class/facet choice setup"""
type Class {
  """Short, unique key."""
  user_key: String!

  """Name/title of the class."""
  name: String!

  """UUID of the related facet."""
  facet_uuid: UUID!

  """UUID of the related organisation."""
  org_uuid: UUID!

  """Immediate parent class"""
  parent: Class

  """Immediate descendants of the class"""
  children: [Class!]!

  """Associated facet"""
  facet: Facet!

  """Associated top-level facet"""
  top_level_facet: Facet!

  """Full name, for backwards compatibility"""
  full_name: String!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """The object type"""
  type: String

  """Scope of the class."""
  scope: String

  """Published state of the class object."""
  published: String

  """UUID of the parent class."""
  parent_uuid: UUID

  """Example usage."""
  example: String

  """Owner of class"""
  owner: UUID
}

"""A configuration setting"""
type Configuration {
  """Settings key."""
  key: String!

  """JSONified value"""
  jsonified_value: String!

  """Stringified value"""
  stringified_value: String!
}

"""Date (isoformat)"""
scalar Date

"""Date with time (isoformat)"""
scalar DateTime

"""Dynamic class overload for associations"""
type DynamicClasses {
  """The UUID of the reference."""
  uuid: UUID!
}

"""Employee/identity specific information"""
type Employee {
  """Given name of the employee."""
  givenname: String!

  """Surname of the employee."""
  surname: String!

  """Validity of the employee."""
  validity: OpenValidity!

  """Full name of the employee"""
  name: String!

  """Full nickname of the employee"""
  nickname: String!

  """Engagements for the employee"""
  engagements: [Engagement!]!

  """Manager roles for the employee"""
  manager_roles: [Manager!]!

  """Addresses for the employee"""
  addresses(address_types: [UUID!] = null): [Address!]!

  """Leaves for the employee"""
  leaves: [Leave!]!

  """Associations for the employee"""
  associations: [Association!]!

  """Roles for the employee"""
  roles: [Role!]!

  """IT users for the employee"""
  itusers: [ITUser!]!

  """Engagement associations"""
  engagement_associations: [EngagementAssociation!]!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type"""
  type: String

  """CPR number of the employee."""
  cpr_no: String

  """Seniority of the employee."""
  seniority: Date

  """Given name part of nickname of the employee."""
  nickname_givenname: String

  """Surname part of nickname of the employee."""
  nickname_surname: String
}

type EmployeeResponse {
  uuid: UUID!
  objects: [Employee!]!
}

"""Employee engagement in an organisation unit"""
type Engagement {
  """Validity of the engagement object."""
  validity: Validity!

  """UUID of the organisation unit related to the engagement."""
  org_unit_uuid: UUID!

  """UUID of the employee related to the engagement."""
  employee_uuid: UUID!

  """UUID of the engagement type klasse of the engagement."""
  engagement_type_uuid: UUID!

  """UUID of the job function klasse of the engagement."""
  job_function_uuid: UUID!

  """Engagement type"""
  engagement_type: Class!

  """Job function"""
  job_function: Class!

  """The primary status"""
  primary: Class

  """Is it primary"""
  is_primary: Boolean!

  """Related leave"""
  leave: Leave

  """Related employee"""
  employee: [Employee!]!

  """Related organisation unit"""
  org_unit: [OrganisationUnit!]!

  """Engagement associations"""
  engagement_associations: [EngagementAssociation!]!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type."""
  type: String

  """
  Indication of contribution to the collection of engagements for the given employee.
  """
  fraction: Int

  """Optional extra information."""
  extension_1: String

  """Optional extra information."""
  extension_2: String

  """Optional extra information."""
  extension_3: String

  """Optional extra information."""
  extension_4: String

  """Optional extra information."""
  extension_5: String

  """Optional extra information."""
  extension_6: String

  """Optional extra information."""
  extension_7: String

  """Optional extra information."""
  extension_8: String

  """Optional extra information."""
  extension_9: String

  """Optional extra information."""
  extension_10: String

  """UUID of the leave related to the engagement."""
  leave_uuid: UUID

  """UUID of the primary klasse of the engagement."""
  primary_uuid: UUID
}

"""Employee engagement in an organisation unit"""
type EngagementAssociation {
  """Validity of the association object."""
  validity: Validity!

  """
  Reference to the organisation unit for which the engagement association should be created.
  """
  org_unit_uuid: UUID!

  """
  Reference to the engagement for which the engagement association should be created.
  """
  engagement_uuid: UUID!

  """
  Reference to the engagement association type klasse for the created engagement association object.
  """
  engagement_association_type_uuid: UUID!

  """Related organisation unit"""
  org_unit: [OrganisationUnit!]!

  """Related engagement"""
  engagement: [Engagement!]!

  """Related engagement association type"""
  engagement_association_type: Class!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type."""
  type: String
}

type EngagementAssociationResponse {
  uuid: UUID!
  objects: [EngagementAssociation!]!
}

type EngagementResponse {
  uuid: UUID!
  objects: [Engagement!]!
}

"""The key component of the class/facet choice setup"""
type Facet {
  """Short, unique key."""
  user_key: String!

  """UUID of the related organisation."""
  org_uuid: UUID!

  """Associated classes"""
  classes: [Class!]!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """The object type"""
  type: String

  """Published state of the facet object."""
  published: String

  """UUID of the parent facet."""
  parent_uuid: UUID

  """Description of the facet object."""
  description: String
}

"""Checks whether a specific subsystem is working"""
type File {
  """The file store the file is stored in."""
  file_store: FileStore!

  """Name of the export file."""
  file_name: String!

  """Text contents"""
  text_contents: String!

  """Base64 encoded contents"""
  base64_contents: String!
}

enum FileStore {
  EXPORTS
  INSIGHTS
}

"""Checks whether a specific subsystem is working"""
type Health {
  """Short, unique key."""
  identifier: String!

  """Healthcheck status"""
  status: Boolean
}

"""Systems that IT users are connected to"""
type ITSystem {
  """Short, unique key."""
  user_key: String!

  """Name/titel of the itsystem."""
  name: String!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """The object type"""
  type: String

  """The ITSystem type."""
  system_type: String
}

"""User information related to IT systems"""
type ITUser {
  """Validity of the IT user object."""
  validity: Validity!

  """UUID of the ITSystem related to the user."""
  itsystem_uuid: UUID!

  """Connected employee"""
  employee: [Employee!]

  """Connected organisation unit"""
  org_unit: [OrganisationUnit!]

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type."""
  type: String

  """UUID of the employee related to the user."""
  employee_uuid: UUID

  """UUID organisation unit related to the user."""
  org_unit_uuid: UUID

  """UUID of an associated `primary_type` class."""
  primary_uuid: UUID
}

type ITUserResponse {
  uuid: UUID!
  objects: [ITUser!]!
}

"""Kommunernes Landsforenings Emnesystematik"""
type KLE {
  """Validity of the kle object."""
  validity: Validity!

  """UUID of the KLE number."""
  kle_number_uuid: UUID!

  """List of UUIDs of the KLE aspect."""
  kle_aspect_uuids: [UUID!]!

  """KLE number"""
  kle_number: Class!

  """KLE Aspects"""
  kle_aspects: [Class!]!

  """Associated organisation unit"""
  org_unit: [OrganisationUnit!]

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type."""
  type: String

  """UUID of the organisation unit related to the KLE."""
  org_unit_uuid: UUID
}

type KLEResponse {
  uuid: UUID!
  objects: [KLE!]!
}

"""Leave (e.g. parental leave) for employees"""
type Leave {
  """Validity of the leave object."""
  validity: Validity!

  """UUID of the employee related to the leave."""
  employee_uuid: UUID!

  """UUID of the leave type klasse."""
  leave_type_uuid: UUID!

  """Leave type"""
  leave_type: Class!

  """Related employee"""
  employee: [Employee!]!

  """Related engagement"""
  engagement: Engagement

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type."""
  type: String

  """UUID of the engagement related to the leave."""
  engagement_uuid: UUID
}

type LeaveResponse {
  uuid: UUID!
  objects: [Leave!]!
}

"""Managers of organisation units and their connected identities"""
type Manager {
  """Validity of the manager object."""
  validity: Validity!

  """UUID of the organisation unit related to the manager."""
  org_unit_uuid: UUID!

  """Manager type"""
  manager_type: Class

  """Manager level"""
  manager_level: Class

  """Manager responsibilities"""
  responsibilities: [Class!]!

  """Manager identity details"""
  employee: [Employee!]

  """Managed organisation unit"""
  org_unit: [OrganisationUnit!]!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type."""
  type: String

  """UUID of the employee related to the manager."""
  employee_uuid: UUID

  """UUID of the manager type."""
  manager_type_uuid: UUID

  """UUID of the manager level."""
  manager_level_uuid: UUID

  """List of UUID's of the responsibilities."""
  responsibility_uuids: [UUID!]
}

type ManagerResponse {
  uuid: UUID!
  objects: [Manager!]!
}

type Mutation {
  """Upload a file"""
  upload_file(file_store: FileStore!, file: Upload!, force: Boolean! = false): String!

  """Trigger refresh for an organisation unit"""
  org_unit_refresh(uuid: UUID!): OrganisationUnitRefresh!
}

"""Validity of objects with optional from date"""
type OpenValidity {
  """Start date of the validity."""
  from: DateTime

  """End date of the validity, if applicable."""
  to: DateTime
}

"""Root organisation - one and only one of these can exist"""
type Organisation {
  """Name of the organisation."""
  name: String!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type"""
  type: String
}

"""Hierarchical unit within the organisation tree"""
type OrganisationUnit {
  """Name of the created organisation unit."""
  name: String!

  """Validity of the created organisation unit."""
  validity: Validity!

  """The immediate ancestor in the organisation tree"""
  parent: [OrganisationUnit!]

  """The immediate descendants in the organisation tree"""
  children: [OrganisationUnit!]!

  """Children count of the organisation unit."""
  child_count: Int!

  """Organisation unit hierarchy"""
  org_unit_hierarchy_model: Class

  """Organisation unit type"""
  unit_type: Class

  """Organisation unit level"""
  org_unit_level: Class

  """Time planning strategy"""
  time_planning: Class

  """Related engagements"""
  engagements: [Engagement!]!

  """Managers of the organisation unit"""
  managers(inherit: Boolean! = false): [Manager!]!

  """Related addresses"""
  addresses(address_types: [UUID!] = null): [Address!]!

  """Related leaves"""
  leaves: [Leave!]!

  """Related associations"""
  associations: [Association!]!

  """Related roles"""
  roles: [Role!]!

  """Related IT users"""
  itusers: [ITUser!]!

  """KLE responsibilites for the organisation unit"""
  kles: [KLE!]!

  """Related units for the organisational unit"""
  related_units: [RelatedUnit!]!

  """Engagement associations for the organisational unit"""
  engagement_associations: [EngagementAssociation!]!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type."""
  type: String

  """UUID of the parent organisation unit."""
  parent_uuid: UUID

  """UUID of the organisation unit hierarchy."""
  org_unit_hierarchy: UUID

  """UUID of the organisation unit type."""
  unit_type_uuid: UUID

  """UUID of the organisation unit level."""
  org_unit_level_uuid: UUID

  """UUID of the time planning object."""
  time_planning_uuid: UUID
}

"""Response model for Organisation Unit refresh event."""
type OrganisationUnitRefresh {
  """Refresh message containing trigger responses."""
  message: String!
}

type OrganisationUnitResponse {
  uuid: UUID!
  objects: [OrganisationUnit!]!
}

"""Entrypoint for all read-operations"""
type Query {
  """Get a list of all addresses, optionally by uuid(s)"""
  addresses(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime): [AddressResponse!]!

  """Get a list of all Associations, optionally by uuid(s)"""
  associations(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime): [AssociationResponse!]!

  """Get a list of all classes, optionally by uuid(s)"""
  classes(uuids: [UUID!] = null, user_keys: [String!] = null): [Class!]!

  """Get a list of all employees, optionally by uuid(s)"""
  employees(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime, cpr_numbers: [CPR!] = null): [EmployeeResponse!]!

  """Get a list of all engagements, optionally by uuid(s)"""
  engagements(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime): [EngagementResponse!]!

  """Get a list of engagement associations"""
  engagement_associations(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime): [EngagementAssociationResponse!]!

  """Get a list of all facets, optionally by uuid(s)"""
  facets(uuids: [UUID!] = null, user_keys: [String!] = null): [Facet!]!

  """Get a list of all ITSystems, optionally by uuid(s)"""
  itsystems(uuids: [UUID!] = null, user_keys: [String!] = null): [ITSystem!]!

  """Get a list of all ITUsers, optionally by uuid(s)"""
  itusers(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime): [ITUserResponse!]!

  """Get a list of all KLE's, optionally by uuid(s)"""
  kles(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime): [KLEResponse!]!

  """Get a list of all leaves, optionally by uuid(s)"""
  leaves(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime): [LeaveResponse!]!

  """Get a list of all managers, optionally by uuid(s)"""
  managers(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime): [ManagerResponse!]!

  """Get a list of all organisation units, optionally by uuid(s)"""
  org_units(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime): [OrganisationUnitResponse!]!

  """Get a list of related organisation units, optionally by uuid(s)"""
  related_units(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime): [RelatedUnitResponse!]!

  """Get a list of all roles, optionally by uuid(s)"""
  roles(uuids: [UUID!] = null, user_keys: [String!] = null, from_date: DateTime, to_date: DateTime): [RoleResponse!]!

  """
  Get the root-organisation. This endpoint fails if not exactly one exists in LoRa.
  """
  org: Organisation!

  """Get component versions"""
  version: Version!

  """Get a list of all health checks, optionally by identifier(s)"""
  healths(identifiers: [String!] = null): [Health!]!

  """Get a list of all files, optionally by filename(s)"""
  files(file_store: FileStore!, file_names: [String!] = null): [File!]!

  """Get a list of configuration variables."""
  configuration(identifiers: [String!] = null): [Configuration!]!
}

"""list of related organisation units"""
type RelatedUnit {
  """Validity of the relatedUnit object."""
  validity: Validity!

  """UUIDs of the related organisation units."""
  org_unit_uuids: [UUID!]!

  """Related organisation units"""
  org_units: [OrganisationUnit!]!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type."""
  type: String
}

type RelatedUnitResponse {
  uuid: UUID!
  objects: [RelatedUnit!]!
}

"""Role an employee has within an organisation unit"""
type Role {
  """Validity of the role object."""
  validity: Validity!

  """UUID of the organisation unit related to the association."""
  org_unit_uuid: UUID!

  """UUID of the employee related to the role."""
  employee_uuid: UUID!

  """UUID of the role type klasse."""
  role_type_uuid: UUID!

  """Role type"""
  role_type: Class!

  """Connected employee"""
  employee: [Employee!]!

  """Connected organisation unit"""
  org_unit: [OrganisationUnit!]!

  """UUID to be created. Will be autogenerated if not specified."""
  uuid: UUID

  """Short, unique key. Defaults to object UUID."""
  user_key: String

  """The object type."""
  type: String
}

type RoleResponse {
  uuid: UUID!
  objects: [Role!]!
}

scalar UUID

scalar Upload

"""Validity of objects with required from date"""
type Validity {
  """Start date of the validity."""
  from: DateTime!

  """End date of the validity, if applicable."""
  to: DateTime
}

"""MO & LoRa versions"""
type Version {
  """OS2mo Version"""
  mo_version: String

  """OS2mo commit hash"""
  mo_hash: String

  """LoRa version"""
  lora_version: String
}
